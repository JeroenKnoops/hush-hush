{"version":3,"sources":["../source/hush-hush.js"],"names":["HushHush","opts","welcome","setupTelepath","console","log","messages","welcomeMessage","recipient","telepath","createChannel","appName","telepathChannel","Telepath","qrcode","createConnectUrl","connectUrl","QRCode","toString","type","err","output"],"mappings":";;;;;;;;;;;;;;;;;AACA;;AAEA;;AACA;;IAEqBA,Q;;;AACnB,oBAAaC,IAAb,EAAmB;AAAA;AACjB,SAAKA,IAAL,GAAYA,IAAZ;AACA,SAAKC,OAAL;AACA,SAAKC,aAAL;AACD;;;;8BAEU;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYC,kBAASC,cAAT,CAAwB,KAAKN,IAAL,CAAUO,SAAlC,CAAZ;AACD;;;;;;;;;;;;;uBAG+B,KAAKC,QAAL,CAAcC,aAAd,CAA4B;AAAEC,kBAAAA,OAAO,EAAE;AAAX,iBAA5B,C;;;AAAxBC,gBAAAA,e;iDACCA,e;;;;;;;;;;;;;;;;;;;;;;;;;;AAIP,qBAAKH,QAAL,GAAgB,IAAII,oBAAJ,CAAa,8BAAb,CAAhB;;uBAC6B,KAAKD,eAAL,E;;;AAA7B,qBAAKA,e;AACLR,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKS,MAAL,CAAY,KAAKF,eAAL,CAAqBG,gBAArB,CAAsC,qBAAtC,CAAZ,CAAZ;;;;;;;;;;;;;;;;;;2BAGMC,U,EAAY;AAClBZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,UAAZ;AACA,aAAOC,gBAAOC,QAAP,CAAgBF,UAAhB,EAA4B;AAAEG,QAAAA,IAAI,EAAE;AAAR,OAA5B,EAAkD,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAC9E,YAAID,GAAJ,EAAS,MAAMA,GAAN;AACT,eAAOC,MAAP;AACD,OAHM,CAAP;AAID","sourcesContent":["\nimport QRCode from 'qrcode'\n\nimport messages from './messages'\nimport { Telepath } from '@cogitojs/telepath-js'\n\nexport default class HushHush {\n  constructor (opts) {\n    this.opts = opts\n    this.welcome()\n    this.setupTelepath()\n  }\n\n  welcome () {\n    console.log(messages.welcomeMessage(this.opts.recipient))\n  }\n\n  async telepathChannel () {\n    const telepathChannel = await this.telepath.createChannel({ appName: 'Hush Hush' })\n    return telepathChannel\n  }\n\n  async setupTelepath () {\n    this.telepath = new Telepath('https://telepath.cogito.mobi')\n    this.telepathChannel = await this.telepathChannel()\n    console.log(this.qrcode(this.telepathChannel.createConnectUrl('https://cogito.mobi')))\n  }\n\n  qrcode (connectUrl) {\n    console.log(connectUrl)\n    return QRCode.toString(connectUrl, { type: 'terminal' }, function (err, output) {\n      if (err) throw err\n      return output\n    })\n  }\n}\n"],"file":"hush-hush.js"}